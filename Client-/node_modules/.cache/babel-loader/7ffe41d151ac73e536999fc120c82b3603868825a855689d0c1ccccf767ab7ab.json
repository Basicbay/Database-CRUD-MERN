{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Record=props=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:props.record.name}),/*#__PURE__*/_jsx(\"td\",{children:props.record.position}),/*#__PURE__*/_jsx(\"td\",{children:props.record.level}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{class:\"btn-group d-flex flex-wrap\",role:\"group\",\"aria-label\":\"Basic mixed styles example\",children:[/*#__PURE__*/_jsx(Link,{type:\"button\",class:\"btn btn-outline-secondary\",to:\"/edit/\".concat(props.record._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-outline-danger\",onClick:()=>{props.deleteRecord(props.record._id);},children:\"Delete\"})]})})]});export default function RecordList(){const[records,setRecords]=useState([]);// This method fetches the records from the database.\nuseEffect(()=>{async function getRecords(){const response=await fetch(\"http://localhost:5000/record/\");if(!response.ok){const message=\"An error occurred: \".concat(response.statusText);window.alert(message);return;}const records=await response.json();setRecords(records);}getRecords();return;},[records.length]);// This method will delete a record\nasync function deleteRecord(id){await fetch(\"http://localhost:5000/\".concat(id),{method:\"DELETE\"});const newRecords=records.filter(el=>el._id!==id);setRecords(newRecords);}// This method will map out the records on the table\nfunction recordList(){return records.map(record=>{return/*#__PURE__*/_jsx(Record,{record:record,deleteRecord:()=>deleteRecord(record._id)},record._id);});}// This following section will display the table with the records of individuals.\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:'1rem',paddingRight:'1rem'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Record List\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Position\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Level\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recordList()})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","jsx","_jsx","jsxs","_jsxs","Record","props","children","record","name","position","level","class","role","type","to","concat","_id","onClick","deleteRecord","RecordList","records","setRecords","getRecords","response","fetch","ok","message","statusText","window","alert","json","length","id","method","newRecords","filter","el","recordList","map","style","paddingLeft","paddingRight","className","marginTop"],"sources":["C:/Users/keepa/Desktop/MERN-Stack-CRUD/Client-/src/components/recordList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Record = (props) => (\r\n  <tr>\r\n    <td>{props.record.name}</td>\r\n    <td>{props.record.position}</td>\r\n    <td>{props.record.level}</td>\r\n    <td>\r\n\r\n\r\n      <div class=\"btn-group d-flex flex-wrap\" role=\"group\" aria-label=\"Basic mixed styles example\">\r\n      <Link type=\"button\" class=\"btn btn-outline-secondary\" to={`/edit/${props.record._id}`}>Edit</Link>\r\n      <button type=\"button\" class=\"btn btn-outline-danger\" onClick={() => {props.deleteRecord(props.record._id);}}>Delete</button>\r\n\r\n      </div>\r\n\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default function RecordList() {\r\n  const [records, setRecords] = useState([]);\r\n  // This method fetches the records from the database.\r\n  useEffect(() => {\r\n    async function getRecords() {\r\n      const response = await fetch(`http://localhost:5000/record/`);\r\n      if (!response.ok) {\r\n        const message = `An error occurred: ${response.statusText}`;\r\n        window.alert(message);\r\n        return;\r\n      }\r\n      const records = await response.json();\r\n      setRecords(records);\r\n    }\r\n    getRecords();\r\n    return;\r\n  }, [records.length]);\r\n  // This method will delete a record\r\n  async function deleteRecord(id) {\r\n    await fetch(`http://localhost:5000/${id}`, {\r\n      method: \"DELETE\"\r\n    });\r\n    const newRecords = records.filter((el) => el._id !== id);\r\n    setRecords(newRecords);\r\n  }\r\n  // This method will map out the records on the table\r\n  function recordList() {\r\n    return records.map((record) => {\r\n      return (\r\n        <Record\r\n          record={record}\r\n          deleteRecord={() => deleteRecord(record._id)}\r\n          key={record._id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n  // This following section will display the table with the records of individuals.\r\n  return (\r\n    <div style={{ paddingLeft: '1rem', paddingRight: '1rem' }} >\r\n\r\n      <h3>Record List</h3>\r\n      <table className=\"table table-striped\" style={{ marginTop: 20 }}>\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Position</th>\r\n            <th>Level</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{recordList()}</tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}